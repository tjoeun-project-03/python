import os
from dotenv import load_dotenv

# .env 파일 로드 (상위 폴더를 거슬러 올라가며 찾음)
load_dotenv()

TMAP_API_KEY = os.getenv("TMAP_API_KEY")

# 1. 거리별 표준 운임표 (단위: 원)
FREIGHT_RATES = {
    20:  {"1t": 40000, "1.4t": 50000, "2.5t": 70000, "3.5t": 80000, "5t": 90000, "11t": 130000, "25t": 200000},
    30:  {"1t": 50000, "1.4t": 60000, "2.5t": 80000, "3.5t": 90000, "5t": 100000, "11t": 140000, "25t": 210000},
    50:  {"1t": 60000, "1.4t": 70000, "2.5t": 90000, "3.5t": 100000, "5t": 120000, "11t": 150000, "25t": 220000},
    70:  {"1t": 70000, "1.4t": 80000, "2.5t": 100000, "3.5t": 110000, "5t": 130000, "11t": 170000, "25t": 230000},
    100: {"1t": 90000, "1.4t": 100000, "2.5t": 120000, "3.5t": 130000, "5t": 150000, "11t": 200000, "25t": 270000},
    200: {"1t": 130000, "1.4t": 140000, "2.5t": 180000, "3.5t": 190000, "5t": 210000, "11t": 270000, "25t": 320000},
    300: {"1t": 170000, "1.4t": 180000, "2.5t": 250000, "3.5t": 260000, "5t": 280000, "11t": 370000, "25t": 480000},
    400: {"1t": 200000, "1.4t": 210000, "2.5t": 280000, "3.5t": 300000, "5t": 320000, "11t": 420000, "25t": 580000},
    500: {"1t": 250000, "1.4t": 260000, "2.5t": 320000, "3.5t": 340000, "5t": 360000, "5t_plus": 380000, "11t": 460000, "25t": 640000},
    600: {"1t": 300000, "1.4t": 310000, "2.5t": 380000, "3.5t": 400000, "5t": 420000, "11t": 500000, "25t": 700000},
}

# 2. 차종별 TMAP API 요청용 스펙
VEHICLE_SPECS = {
    "1t": {
        "truckType": 1, 
        "truckWidth": 174,
        "truckHeight": 197, 
        "truckLength": 474,
        "truckWeight": 1000,
        "truckTotalWeight": 2600
    },
    "5t": {
        "truckType": 1, 
        "truckWidth": 230,
        "truckHeight": 280, 
        "truckLength": 860,
        "truckWeight": 5000,
        "truckTotalWeight": 11000
    },
    "11t": {
        "truckType": 1, 
        "truckWidth": 249, 
        "truckHeight": 350, 
        "truckLength": 1000,
        "truckWeight": 11000,
        "truckTotalWeight": 24000
    },
    "25t": {
        "truckType": 1, 
        "truckWidth": 249, 
        "truckHeight": 390, 
        "truckLength": 1200,
        "truckWeight": 25000,
        "truckTotalWeight": 38000
    }
}

# 3. 할증 설정
NIGHT_SURCHARGE_RATE = 1.2  # 20%
NIGHT_START_HOUR = 22       # 22시
NIGHT_END_HOUR = 6          # 06시